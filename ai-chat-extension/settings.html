<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Chat Settings</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="settings-container">
    <div class="settings-header">
      <h1>âš™ï¸ AI Chat Settings</h1>
      <button id="backBtn" class="btn-secondary">â† Back</button>
    </div>

    <div class="settings-section">
      <h2>ğŸ”— NeoClaw Connection</h2>
      <p class="section-desc">Connect to your NeoClaw AI instance</p>
      
      <div class="setting-item">
        <label for="neoClawUrl" class="setting-label">NeoClaw Gateway URL:</label>
        <input 
          type="url" 
          id="neoClawUrl" 
          class="setting-input" 
          placeholder="https://your-neoclaw-instance.com"
          style="max-width: 100%;">
        <p class="setting-desc">The base URL of your NeoClaw instance</p>
      </div>

      <div class="setting-item">
        <label for="neoClawToken" class="setting-label">NeoClaw Auth Token:</label>
        <input 
          type="password" 
          id="neoClawToken" 
          class="setting-input" 
          placeholder="Your authentication token"
          style="max-width: 100%;">
        <p class="setting-desc">Your NeoClaw authentication token (kept secure)</p>
      </div>

      <div class="setting-item">
        <button id="testConnection" class="btn-secondary">ğŸ”Œ Test Connection</button>
        <span id="connectionStatus" style="margin-left: 10px;"></span>
      </div>
    </div>

    <div class="settings-section">
      <h2>ğŸ“Š Data Sources</h2>
      <p class="section-desc">Control what data the AI can access</p>
      
      <div class="setting-item">
        <label class="toggle-label">
          <input type="checkbox" id="enableHistory" class="toggle-input">
          <span class="toggle-slider"></span>
          <span class="toggle-text">Enable Browser History</span>
        </label>
        <p class="setting-desc">Allow AI to access your browsing history</p>
      </div>

      <div class="setting-item">
        <label class="toggle-label">
          <input type="checkbox" id="enableBookmarks" class="toggle-input">
          <span class="toggle-slider"></span>
          <span class="toggle-text">Enable Bookmarks</span>
        </label>
        <p class="setting-desc">Allow AI to access your bookmarks</p>
      </div>

      <div class="setting-item">
        <label class="toggle-label">
          <input type="checkbox" id="enableTabs" class="toggle-input">
          <span class="toggle-slider"></span>
          <span class="toggle-text">Enable Open Tabs</span>
        </label>
        <p class="setting-desc">Allow AI to see your currently open tabs</p>
      </div>
    </div>

    <div class="settings-section">
      <h2>ğŸ”’ Smart Controls</h2>
      <p class="section-desc">Protect sensitive information</p>
      
      <div class="setting-item">
        <label class="toggle-label">
          <input type="checkbox" id="neverRememberBanking" class="toggle-input">
          <span class="toggle-slider"></span>
          <span class="toggle-text">Never Remember Banking Sites</span>
        </label>
        <p class="setting-desc">Automatically block banking and financial sites</p>
      </div>

      <div class="setting-item">
        <label class="toggle-label">
          <input type="checkbox" id="excludeWorkTabs" class="toggle-input">
          <span class="toggle-slider"></span>
          <span class="toggle-text">Don't Use Work Tabs for AI</span>
        </label>
        <p class="setting-desc">Exclude work-related tabs from AI context</p>
      </div>
    </div>

    <div class="settings-section">
      <h2>ğŸ›¡ï¸ Security Features</h2>
      <p class="section-desc">Advanced protection for sensitive pages</p>
      
      <div class="setting-item">
        <label class="toggle-label">
          <input type="checkbox" id="enablePaymentProtection" class="toggle-input">
          <span class="toggle-slider"></span>
          <span class="toggle-text">Block Screenshots on Payment Pages</span>
        </label>
        <p class="setting-desc">Automatically disable print screen and screenshots when visiting payment gateways (Stripe, PayPal, Razorpay, etc.)</p>
      </div>
    </div>

    <div class="settings-section">
      <h2>ğŸ—‘ï¸ Auto-Delete</h2>
      <p class="section-desc">Automatically manage old memories</p>
      
      <div class="setting-item">
        <label for="autoDeleteDays" class="setting-label">Auto-delete memories after:</label>
        <select id="autoDeleteDays" class="setting-select">
          <option value="0">Never</option>
          <option value="7">7 days</option>
          <option value="14">14 days</option>
          <option value="30">30 days</option>
          <option value="60">60 days</option>
          <option value="90">90 days</option>
        </select>
        <p class="setting-desc">Old memories will be automatically deleted</p>
      </div>

      <div class="setting-item">
        <label for="maxMemories" class="setting-label">Maximum stored memories:</label>
        <input type="number" id="maxMemories" class="setting-input" min="100" max="10000" step="100">
        <p class="setting-desc">Limit total number of memories stored</p>
      </div>
    </div>

    <div class="settings-section">
      <h2>ğŸš« Blocked Sites</h2>
      <p class="section-desc">Sites that AI should never remember - automatically removed from browser history</p>
      
      <div class="blocked-sites-input">
        <input type="text" id="blockedSiteInput" placeholder="Enter domain or keyword..." class="setting-input">
        <button id="addBlockedSite" class="btn-primary">Add</button>
      </div>

      <div id="blockedSitesList" class="blocked-sites-list">
        <!-- Dynamic list -->
      </div>
      
      <div class="setting-item" style="margin-top: 20px;">
        <button id="cleanupBlockedSites" class="btn-secondary">ğŸ§¹ Clean Up Blocked Sites from History</button>
        <p class="setting-desc">Remove all blocked sites from your existing browser history</p>
      </div>
    </div>

    <div class="settings-actions">
      <button id="saveSettings" class="btn-primary btn-large">ğŸ’¾ Save Settings</button>
      <button id="resetSettings" class="btn-danger">â†º Reset to Defaults</button>
    </div>

    <div id="saveStatus" class="save-status" style="display: none;"></div>
  </div>

  <script src="settings.js"></script>
</body>
</html>
